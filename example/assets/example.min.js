"use strict";var virtualDG,colspans=[1,2,4,8,16];function getDiffBetweenTwoTimes(e,t){return(t-e)/1e3}function generateHeaders(e,t){for(var n=[],r=0;r<t;r++){n.push([]);for(var a=colspans[t-r-1],o=1;o<=e/a;o++)n[r].push({key:"column_"+o,text:o+". column",dataType:"text",colspan:a})}return n}function generateFixedHeaders(e,t){for(var n=[],r=0;r<t;r++){n.push([]);for(var a=colspans[t-r-1],o=1;o<=e/a;o++)n[r].push({key:"fixed_column_"+o,text:o+". fixed column",dataType:"text",colspan:a});0===n[r].length&&0!==e&&n[r].push({})}return n}function generateData(e,t,n){var r,a,o,u=[],i=e.length-1;for(r=1;r<=n;r++){for(o={column_1:r},a=1;a<=e[i].length;a++)o[e[i][a-1].key]=r*(a+1)+". cell";for(a=1;a<=t[i].length;a++)o[t[i][a-1].key]=r*(a+1)+". cell";u.push(o)}return u}function generateDataGrid(){var e=getOptionsFromInputs();virtualDG=new window.VirtualDataGrid;var t=new Date;virtualDG.generateTable(e),console.log("Generation successfully finished! Elapsed time: "+getDiffBetweenTwoTimes(t,new Date)+"s")}function setupOptionContainer(){var e=window.innerHeight-document.querySelector(".root-container").getBoundingClientRect().top-18;document.querySelector(".generator-container").style.maxHeight=e+"px",document.querySelector(".generator-container").style.height=e+"px"}function setupOptions(){void 0===virtualDG&&(virtualDG=new window.VirtualDataGrid);var e=document.querySelectorAll("[name]");null!==e&&e.forEach(function(e){var t=e.getAttribute("type");"radio"!==t&&"checkbox"!==t&&(e.value="")}),Object.keys(virtualDG.DEFAULT_OPTIONS).forEach(function(e){fillInputsWithOptions(e,virtualDG.DEFAULT_OPTIONS[e])})}function fillInputsWithOptions(e,t){null!==t&&"object"==typeof t&&Object.keys(t).forEach(function(n){fillInputsWithOptions(e+"-"+n,t[n])});var n=document.querySelector("[name="+e+"]");if(null!==n&&"function"!=typeof t&&null!==t){var r=n.getAttribute("type");if("true"===n.getAttribute("data-no-default"))return;"radio"===r||"checkbox"===r?document.querySelectorAll("[name="+e+"]").forEach(function(e){e.checked=e.value===t+""}):n.value="object"==typeof t?JSON.stringify(t,null,2):t}}function getOptionsFromInputs(){var e={},t={};return document.querySelectorAll("[name]").forEach(function(t){var n=t.getAttribute("type"),r=t.classList.contains("function"),a=t.classList.contains("json");if("radio"!==n&&"checkbox"!==n||t.matches(":checked")){var o=t.value;""!==o&&("true"===o?o=!0:"false"===o&&(o=!1),r&&(o=evalFunctionValues(t)),a&&(o=JSON.parse(t.value)),"number"===n&&(o=parseInt(t.value,10)),e[t.getAttribute("name")]=o)}}),Object.keys(e).forEach(function(n){for(var r=n.split("-"),a=null,o=0;o<r.length;o++){var u=r[o];null===a?r.length-1===o?t[u]=e[n]:(void 0===t[u]&&(t[u]={}),a=t[u]):r.length-1===o?a[u]=e[n]:(void 0===a[u]&&(a[u]={}),a=a[u])}}),t}function evalFunctionValues(e){var t=e.getAttribute("data-attributes").split(",");return Function(t,e.value)}var isEventDelayed=!1;function resizeEventHandler(){isEventDelayed||(isEventDelayed=!0,window.setTimeout(function(){isEventDelayed=!1,setupOptionContainer()},200))}function initPage(){setupOptionContainer(),setupOptions(),getOptionsFromInputs()}window.addEventListener("load",function(){var e=document.querySelector("#generate-table"),t=document.querySelector("#test-options"),n=document.querySelector("#reset-to-default"),r=document.querySelector("#generate-data");initPage(),window.addEventListener("resize",resizeEventHandler),null!==e&&e.addEventListener("click",function(){var e=document.querySelector(".main-container");null!==e&&(e.innerHTML=""),generateDataGrid()}),null!==t&&t.addEventListener("click",function(){window.console.log(getOptionsFromInputs())}),null!==n&&n.addEventListener("click",setupOptions),null!==r&&r.addEventListener("click",function(){var e=document.querySelector("[name=headers]"),t=document.querySelector("[name=fixedHeaders]"),n=document.querySelector("[name=dataSource]"),r=document.querySelector("#data-generator-header-size"),a=document.querySelector("#data-generator-fixed-header-size"),o=document.querySelector("#data-generator-headers-row-size"),u=document.querySelector("#data-generator-data-size");if(null!==e&&null!==t&&null!==n&&null!==r&&null!==a&&null!==o&&null!==u){var i=parseInt(r.value,10),l=parseInt(a.value,10),c=parseInt(o.value,10),s=parseInt(u.value,10),d=generateHeaders(i,c),f=generateFixedHeaders(l,c),v=generateData(d,f,s);e.value=JSON.stringify(d,null,2),t.value=JSON.stringify(f,null,2),n.value=JSON.stringify(v,null,2)}})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsidmlydHVhbERHIiwiY29sc3BhbnMiLCJnZXREaWZmQmV0d2VlblR3b1RpbWVzIiwiZmlyc3QiLCJzZWNvbmQiLCJnZW5lcmF0ZUhlYWRlcnMiLCJoZWFkZXJTaXplIiwiaGVhZGVyc1Jvd1NpemUiLCJoZWFkZXJzIiwiaSIsInB1c2giLCJjb2xzcGFuTnVtYmVyIiwiaiIsImtleSIsInRleHQiLCJkYXRhVHlwZSIsImNvbHNwYW4iLCJnZW5lcmF0ZUZpeGVkSGVhZGVycyIsImxlbmd0aCIsImdlbmVyYXRlRGF0YSIsImZpeGVkSGVhZGVycyIsImRhdGFzb3VyY2VTaXplIiwicm93IiwiZHMiLCJsYXN0SGVhZGVySW5kZXgiLCJjb2x1bW5fMSIsImdlbmVyYXRlRGF0YUdyaWQiLCJvcHRpb25zIiwiZ2V0T3B0aW9uc0Zyb21JbnB1dHMiLCJ3aW5kb3ciLCJWaXJ0dWFsRGF0YUdyaWQiLCJzdGFydGluZ0RhdGUiLCJEYXRlIiwiZ2VuZXJhdGVUYWJsZSIsImNvbnNvbGUiLCJsb2ciLCJzZXR1cE9wdGlvbkNvbnRhaW5lciIsImdlbmVyYXRvckNvbnRhaW5lckhlaWdodCIsImlubmVySGVpZ2h0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwidG9wIiwic3R5bGUiLCJtYXhIZWlnaHQiLCJoZWlnaHQiLCJzZXR1cE9wdGlvbnMiLCJpbnB1dHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsImlucHV0IiwiaW5wdXRUeXBlIiwiZ2V0QXR0cmlidXRlIiwidmFsdWUiLCJPYmplY3QiLCJrZXlzIiwiREVGQVVMVF9PUFRJT05TIiwiZmlsbElucHV0c1dpdGhPcHRpb25zIiwia2V5Q2hhaW4iLCJzdWJLZXkiLCJlbCIsImNoZWNrZWQiLCJKU09OIiwic3RyaW5naWZ5IiwiZmxhdE9wdGlvbnMiLCJpc0Z1bmN0aW9uIiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJpc0pzb24iLCJtYXRjaGVzIiwiZXZhbEZ1bmN0aW9uVmFsdWVzIiwicGFyc2UiLCJwYXJzZUludCIsImZsYXRLZXkiLCJwYXJ0cyIsInNwbGl0IiwicGFydERhdGEiLCJwYXJ0IiwicGFyYW1BcnJheSIsIkZ1bmN0aW9uIiwiaXNFdmVudERlbGF5ZWQiLCJyZXNpemVFdmVudEhhbmRsZXIiLCJzZXRUaW1lb3V0IiwiaW5pdFBhZ2UiLCJhZGRFdmVudExpc3RlbmVyIiwiZ2VuZXJhdGVUYWJsZUJ1dHRvbiIsInRlc3RPcHRpb25zQnV0dG9uIiwicmVzZXRUb0RlZmF1bHRCdXR0b24iLCJnZW5lcmF0ZURhdGFCdXR0b24iLCJkYXRhQ29udGFpbmVyIiwiaW5uZXJIVE1MIiwiaGVhZGVyc0lucHV0IiwiZml4ZWRIZWFkZXJzSW5wdXQiLCJkYXRhU291cmNlSW5wdXQiLCJmaXhlZEhlYWRlclNpemUiLCJkYXRhU2l6ZSIsImhlYWRlclNpemVWYWx1ZSIsImZpeGVkSGVhZGVyU2l6ZVZhbHVlIiwiaGVhZGVyc1Jvd1NpemVWYWx1ZSIsImRhdGFTaXplVmFsdWUiLCJkYXRhIl0sIm1hcHBpbmdzIjoiQUFBQSxhQUVBLElBQUlBLFVBRUFDLFVBQWEsRUFBRyxFQUFHLEVBQUcsRUFBRyxJQUU3QixTQUFTQyx1QkFBdUJDLEVBQU9DLEdBQ3RDLE9BQVFBLEVBQVNELEdBQVMsSUFHM0IsU0FBU0UsZ0JBQWdCQyxFQUFZQyxHQUdwQyxJQUZBLElBQUlDLEtBRUtDLEVBQUksRUFBR0EsRUFBSUYsRUFBZ0JFLElBQUssQ0FDeENELEVBQVFFLFNBSVIsSUFGQSxJQUFJQyxFQUFnQlYsU0FBU00sRUFBaUJFLEVBQUksR0FFekNHLEVBQUksRUFBR0EsR0FBS04sRUFBYUssRUFBZUMsSUFDaERKLEVBQVFDLEdBQUdDLE1BQ1ZHLElBQUssVUFBWUQsRUFDakJFLEtBQU1GLEVBQUksV0FDVkcsU0FBVSxPQUNWQyxRQUFTTCxJQUtaLE9BQU9ILEVBR1IsU0FBU1MscUJBQXFCWCxFQUFZQyxHQUd6QyxJQUZBLElBQUlDLEtBRUtDLEVBQUks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QixTQUFTdUIsRUFBUzFDLE1BQU8sSUFDekM3QyxFQUFVSCxnQkFBZ0IyRixFQUFpQkUsR0FDM0M5RSxFQUFlSCxxQkFBcUJnRixFQUFzQkMsR0FDMURFLEVBQU9qRixhQUFhWCxFQUFTWSxFQUFjK0UsR0FFNUNSLEVBQWF0QyxNQUFRUyxLQUFLQyxVQUFVdkQsRUFBUyxLQUFNLEdBQ25Eb0YsRUFBa0J2QyxNQUFRUyxLQUFLQyxVQUFVM0MsRUFBYyxLQUFNLEdBQzdEeUUsRUFBZ0J4QyxNQUFRUyxLQUFLQyxVQUFVcUMsRUFBTSxLQUFNIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciB2aXJ0dWFsREc7XG5cbnZhciBjb2xzcGFucyA9IFsgMSwgMiwgNCwgOCwgMTYgXTtcblxuZnVuY3Rpb24gZ2V0RGlmZkJldHdlZW5Ud29UaW1lcyhmaXJzdCwgc2Vjb25kKSB7XG5cdHJldHVybiAoc2Vjb25kIC0gZmlyc3QpIC8gMTAwMDtcbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVIZWFkZXJzKGhlYWRlclNpemUsIGhlYWRlcnNSb3dTaXplKSB7XG5cdHZhciBoZWFkZXJzID0gW107XG5cblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBoZWFkZXJzUm93U2l6ZTsgaSsrKSB7XG5cdFx0aGVhZGVycy5wdXNoKFtdKTtcblxuXHRcdHZhciBjb2xzcGFuTnVtYmVyID0gY29sc3BhbnNbaGVhZGVyc1Jvd1NpemUgLSBpIC0gMV07XG5cblx0XHRmb3IgKHZhciBqID0gMTsgaiA8PSBoZWFkZXJTaXplIC8gY29sc3Bhbk51bWJlcjsgaisrKSB7XG5cdFx0XHRoZWFkZXJzW2ldLnB1c2goe1xuXHRcdFx0XHRrZXk6ICdjb2x1bW5fJyArIGosXG5cdFx0XHRcdHRleHQ6IGogKyAnLiBjb2x1bW4nLFxuXHRcdFx0XHRkYXRhVHlwZTogJ3RleHQnLFxuXHRcdFx0XHRjb2xzcGFuOiBjb2xzcGFuTnVtYmVyXG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gaGVhZGVycztcbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVGaXhlZEhlYWRlcnMoaGVhZGVyU2l6ZSwgaGVhZGVyc1Jvd1NpemUpIHtcblx0dmFyIGhlYWRlcnMgPSBbXTtcblxuXHRmb3IgKHZhciBpID0gMDsgaSA8IGhlYWRlcnNSb3dTaXplOyBpKyspIHtcblx0XHRoZWFkZXJzLnB1c2goW10pO1xuXG5cdFx0dmFyIGNvbHNwYW5OdW1iZXIgPSBjb2xzcGFuc1toZWFkZXJzUm93U2l6ZSAtIGkgLSAxXTtcblxuXHRcdGZvciAodmFyIGogPSAxOyBqIDw9IGhlYWRlclNpemUgLyBjb2xzcGFuTnVtYmVyOyBqKyspIHtcblx0XHRcdGhlYWRlcnNbaV0ucHVzaCh7XG5cdFx0XHRcdGtleTogJ2ZpeGVkX2NvbHVtbl8nICsgaixcblx0XHRcdFx0dGV4dDogaiArICcuIGZpeGVkIGNvbHVtbicsXG5cdFx0XHRcdGRhdGFUeXBlOiAndGV4dCcsXG5cdFx0XHRcdGNvbHNwYW46IGNvbHNwYW5OdW1iZXJcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdGlmIChoZWFkZXJzW2ldLmxlbmd0aCA9PT0gMCAmJiBoZWFkZXJTaXplICE9PSAwKSB7XG5cdFx0XHRoZWFkZXJzW2ldLnB1c2goe30pO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBoZWFkZXJzO1xufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZURhdGEoaGVhZGVycywgZml4ZWRIZWFkZXJzLCBkYXRhc291cmNlU2l6ZSkge1xuXHR2YXIgZHMgPSBbXSxcblx0XHRoZWFkZXJzUm93U2l6ZSA9IGhlYWRlcnMubGVuZ3RoLFxuXHRcdGxhc3RIZWFkZXJJbmRleCA9IGhlYWRlcnNSb3dTaXplIC0gMTtcblxuXHR2YXIgaSwgaiwgcm93LCBjS2V5O1xuXG5cdGZvciAoaSA9IDE7IGkgPD0gZGF0YXNvdXJjZVNpemU7IGkrKykge1xuXHRcdHJvdyA9IHtcblx0XHRcdGNvbHVtbl8xOiBpXG5cdFx0fTtcblxuXHRcdGZvciAoaiA9IDE7IGogPD0gaGVhZGVyc1tsYXN0SGVhZGVySW5kZXhdLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRjS2V5ID0gaGVhZGVyc1tsYXN0SGVhZGVySW5kZXhdW2ogLSAxXS5rZXk7XG5cblx0XHRcdHJvd1tjS2V5XSA9IChpICogKGogKyAxKSkgKyAnLiBjZWxsJzsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuXHRcdH1cblxuXHRcdGZvciAoaiA9IDE7IGogPD0gZml4ZWRIZWFkZXJzW2xhc3RIZWFkZXJJbmRleF0ubGVuZ3RoOyBqKyspIHtcblx0XHRcdGNLZXkgPSBmaXhlZEhlYWRlcnNbbGFzdEhlYWRlckluZGV4XVtqIC0gMV0ua2V5O1xuXG5cdFx0XHRyb3dbY0tleV0gPSAoaSAqIChqICsgMSkpICsgJy4gY2VsbCc7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcblx0XHR9XG5cblx0XHRkcy5wdXNoKHJvdyk7XG5cdH1cblxuXHRyZXR1cm4gZHM7XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlRGF0YUdyaWQoKSB7XG5cdHZhciBvcHRpb25zID0gZ2V0T3B0aW9uc0Zyb21JbnB1dHMoKTtcblxuXHR2aXJ0dWFsREcgPSBuZXcgd2luZG93LlZpcnR1YWxEYXRhR3JpZCgpO1xuXG5cdHZhciBzdGFydGluZ0RhdGUgPSBuZXcgRGF0ZSgpO1xuXG5cdHZpcnR1YWxERy5nZW5lcmF0ZVRhYmxlKG9wdGlvbnMpO1xuXHRjb25zb2xlLmxvZygnR2VuZXJhdGlvbiBzdWNjZXNzZnVsbHkgZmluaXNoZWQhIEVsYXBzZWQgdGltZTogJyArIGdldERpZmZCZXR3ZWVuVHdvVGltZXMoc3RhcnRpbmdEYXRlLCBuZXcgRGF0ZSgpKSArICdzJyk7XG59XG5cbmZ1bmN0aW9uIHNldHVwT3B0aW9uQ29udGFpbmVyKCkge1xuXHR2YXIgZ2VuZXJhdG9yQ29udGFpbmVySGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0IC0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJvb3QtY29udGFpbmVyJykuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wIC0gMTg7XG5cblx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmdlbmVyYXRvci1jb250YWluZXInKS5zdHlsZS5tYXhIZWlnaHQgPSBnZW5lcmF0b3JDb250YWluZXJIZWlnaHQgKyAncHgnO1xuXHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZ2VuZXJhdG9yLWNvbnRhaW5lcicpLnN0eWxlLmhlaWdodCA9IGdlbmVyYXRvckNvbnRhaW5lckhlaWdodCArICdweCc7XG59XG5cbmZ1bmN0aW9uIHNldHVwT3B0aW9ucygpIHtcblx0aWYgKHR5cGVvZiB2aXJ0dWFsREcgPT0gJ3VuZGVmaW5lZCcpIHtcblx0XHR2aXJ0dWFsREcgPSBuZXcgd2luZG93LlZpcnR1YWxEYXRhR3JpZCgpO1xuXHR9XG5cblx0dmFyIGlucHV0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tuYW1lXScpO1xuXG5cdGlmIChpbnB1dHMgIT09IG51bGwpIHtcblx0XHRpbnB1dHMuZm9yRWFjaChmdW5jdGlvbihpbnB1dCkge1xuXHRcdFx0dmFyIGlucHV0VHlwZSA9IGlucHV0LmdldEF0dHJpYnV0ZSgndHlwZScpO1xuXG5cdFx0XHRpZiAoaW5wdXRUeXBlICE9PSAncmFkaW8nICYmIGlucHV0VHlwZSAhPT0gJ2NoZWNrYm94Jykge1xuXHRcdFx0XHRpbnB1dC52YWx1ZSA9ICcnO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0T2JqZWN0LmtleXModmlydHVhbERHLkRFRkFVTFRfT1BUSU9OUykuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcblx0XHRmaWxsSW5wdXRzV2l0aE9wdGlvbnMoa2V5LCB2aXJ0dWFsREcuREVGQVVMVF9PUFRJT05TW2tleV0pO1xuXHR9KTtcbn1cblxuZnVuY3Rpb24gZmlsbElucHV0c1dpdGhPcHRpb25zKGtleUNoYWluLCB2YWx1ZSkge1xuXHRpZiAodmFsdWUgIT09IG51bGwgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuXHRcdE9iamVjdC5rZXlzKHZhbHVlKS5mb3JFYWNoKGZ1bmN0aW9uKHN1YktleSkge1xuXHRcdFx0ZmlsbElucHV0c1dpdGhPcHRpb25zKGtleUNoYWluICsgJy0nICsgc3ViS2V5LCB2YWx1ZVtzdWJLZXldKTtcblx0XHR9KTtcblx0fVxuXG5cdHZhciBpbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPScgKyBrZXlDaGFpbiArICddJyk7XG5cblx0aWYgKGlucHV0ICE9PSBudWxsICYmIHR5cGVvZiB2YWx1ZSAhPT0gJ2Z1bmN0aW9uJyAmJiB2YWx1ZSAhPT0gbnVsbCkge1xuXHRcdHZhciBpbnB1dFR5cGUgPSBpbnB1dC5nZXRBdHRyaWJ1dGUoJ3R5cGUnKSxcblx0XHRcdG5vRGVmYXVsdCA9IGlucHV0LmdldEF0dHJpYnV0ZSgnZGF0YS1uby1kZWZhdWx0Jyk7XG5cblx0XHRpZiAobm9EZWZhdWx0ID09PSAndHJ1ZScpIHtcblx0XHRcdHJldHVybjtcblx0XHR9IGVsc2UgaWYgKGlucHV0VHlwZSA9PT0gJ3JhZGlvJyB8fCBpbnB1dFR5cGUgPT09ICdjaGVja2JveCcpIHtcblx0XHRcdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tuYW1lPScgKyBrZXlDaGFpbiArICddJykuZm9yRWFjaChmdW5jdGlvbihlbCkge1xuXHRcdFx0XHRlbC5jaGVja2VkID0gZWwudmFsdWUgPT09IHZhbHVlICsgJyc7XG5cdFx0XHR9KTtcblx0XHR9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0Jykge1xuXHRcdFx0aW5wdXQudmFsdWUgPSBKU09OLnN0cmluZ2lmeSh2YWx1ZSwgbnVsbCwgMik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGlucHV0LnZhbHVlID0gdmFsdWU7XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIGdldE9wdGlvbnNGcm9tSW5wdXRzKCkge1xuXHR2YXIgaW5wdXRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW25hbWVdJyksXG5cdFx0ZmxhdE9wdGlvbnMgPSB7fSxcblx0XHRvcHRpb25zID0ge307XG5cblx0aW5wdXRzLmZvckVhY2goZnVuY3Rpb24oaW5wdXQpIHtcblx0XHR2YXIgaW5wdXRUeXBlID0gaW5wdXQuZ2V0QXR0cmlidXRlKCd0eXBlJyksXG5cdFx0XHRpc0Z1bmN0aW9uID0gaW5wdXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdmdW5jdGlvbicpLFxuXHRcdFx0aXNKc29uID0gaW5wdXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdqc29uJyk7XG5cblx0XHRpZiAoKGlucHV0VHlwZSA9PT0gJ3JhZGlvJyB8fCBpbnB1dFR5cGUgPT09ICdjaGVja2JveCcpICYmICFpbnB1dC5tYXRjaGVzKCc6Y2hlY2tlZCcpKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dmFyIHZhbHVlID0gaW5wdXQudmFsdWU7XG5cblx0XHRpZiAodmFsdWUgPT09ICcnKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKHZhbHVlID09PSAndHJ1ZScpIHtcblx0XHRcdHZhbHVlID0gdHJ1ZTtcblx0XHR9IGVsc2UgaWYgKHZhbHVlID09PSAnZmFsc2UnKSB7XG5cdFx0XHR2YWx1ZSA9IGZhbHNlO1xuXHRcdH1cblxuXHRcdGlmIChpc0Z1bmN0aW9uKSB7XG5cdFx0XHR2YWx1ZSA9IGV2YWxGdW5jdGlvblZhbHVlcyhpbnB1dCk7XG5cdFx0fVxuXG5cdFx0aWYgKGlzSnNvbikge1xuXHRcdFx0dmFsdWUgPSBKU09OLnBhcnNlKGlucHV0LnZhbHVlKTtcblx0XHR9XG5cblx0XHRpZiAoaW5wdXRUeXBlID09PSAnbnVtYmVyJykge1xuXHRcdFx0dmFsdWUgPSBwYXJzZUludChpbnB1dC52YWx1ZSwgMTApO1xuXHRcdH1cblxuXHRcdGZsYXRPcHRpb25zW2lucHV0LmdldEF0dHJpYnV0ZSgnbmFtZScpXSA9IHZhbHVlO1xuXHR9KTtcblxuXHRPYmplY3Qua2V5cyhmbGF0T3B0aW9ucykuZm9yRWFjaChmdW5jdGlvbihmbGF0S2V5KSB7XG5cdFx0dmFyIHBhcnRzID0gZmxhdEtleS5zcGxpdCgnLScpLFxuXHRcdFx0cGFydERhdGEgPSBudWxsO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIHBhcnQgPSBwYXJ0c1tpXTtcblxuXHRcdFx0aWYgKHBhcnREYXRhID09PSBudWxsKSB7XG5cdFx0XHRcdGlmIChwYXJ0cy5sZW5ndGggLSAxID09PSBpKSB7XG5cdFx0XHRcdFx0b3B0aW9uc1twYXJ0XSA9IGZsYXRPcHRpb25zW2ZsYXRLZXldO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGlmICh0eXBlb2Ygb3B0aW9uc1twYXJ0XSA9PSAndW5kZWZpbmVkJykge1xuXHRcdFx0XHRcdFx0b3B0aW9uc1twYXJ0XSA9IHt9O1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHBhcnREYXRhID0gb3B0aW9uc1twYXJ0XTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmIChwYXJ0cy5sZW5ndGggLSAxID09PSBpKSB7XG5cdFx0XHRcdHBhcnREYXRhW3BhcnRdID0gZmxhdE9wdGlvbnNbZmxhdEtleV07XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZiAodHlwZW9mIHBhcnREYXRhW3BhcnRdID09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHRcdFx0cGFydERhdGFbcGFydF0gPSB7fTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHBhcnREYXRhID0gcGFydERhdGFbcGFydF07XG5cdFx0XHR9XG5cdFx0fVxuXHR9KTtcblxuXHRyZXR1cm4gb3B0aW9ucztcbn1cblxuZnVuY3Rpb24gZXZhbEZ1bmN0aW9uVmFsdWVzKGlucHV0KSB7XG5cdHZhciBwYXJhbUFycmF5ID0gaW5wdXQuZ2V0QXR0cmlidXRlKCdkYXRhLWF0dHJpYnV0ZXMnKS5zcGxpdCgnLCcpO1xuXG5cdHJldHVybiBGdW5jdGlvbihwYXJhbUFycmF5LCBpbnB1dC52YWx1ZSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbn1cblxudmFyIGlzRXZlbnREZWxheWVkID0gZmFsc2U7XG5cbmZ1bmN0aW9uIHJlc2l6ZUV2ZW50SGFuZGxlcigpIHtcblx0aWYgKCFpc0V2ZW50RGVsYXllZCkge1xuXHRcdGlzRXZlbnREZWxheWVkID0gdHJ1ZTtcblxuXHRcdHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0aXNFdmVudERlbGF5ZWQgPSBmYWxzZTtcblxuXHRcdFx0c2V0dXBPcHRpb25Db250YWluZXIoKTtcblx0XHR9LCAyMDApO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGluaXRQYWdlKCkge1xuXHRzZXR1cE9wdGlvbkNvbnRhaW5lcigpO1xuXHRzZXR1cE9wdGlvbnMoKTtcblx0Z2V0T3B0aW9uc0Zyb21JbnB1dHMoKTtcbn1cblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbigpIHtcblx0dmFyIGdlbmVyYXRlVGFibGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZ2VuZXJhdGUtdGFibGUnKSxcblx0XHR0ZXN0T3B0aW9uc0J1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0ZXN0LW9wdGlvbnMnKSxcblx0XHRyZXNldFRvRGVmYXVsdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNyZXNldC10by1kZWZhdWx0JyksXG5cdFx0Z2VuZXJhdGVEYXRhQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2dlbmVyYXRlLWRhdGEnKTtcblxuXHRpbml0UGFnZSgpO1xuXG5cdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCByZXNpemVFdmVudEhhbmRsZXIpO1xuXG5cdGlmIChnZW5lcmF0ZVRhYmxlQnV0dG9uICE9PSBudWxsKSB7XG5cdFx0Z2VuZXJhdGVUYWJsZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGRhdGFDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWFpbi1jb250YWluZXInKTtcblxuXHRcdFx0aWYgKGRhdGFDb250YWluZXIgIT09IG51bGwpIHtcblx0XHRcdFx0ZGF0YUNvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcblx0XHRcdH1cblxuXHRcdFx0Z2VuZXJhdGVEYXRhR3JpZCgpO1xuXHRcdH0pO1xuXHR9XG5cblx0aWYgKHRlc3RPcHRpb25zQnV0dG9uICE9PSBudWxsKSB7XG5cdFx0dGVzdE9wdGlvbnNCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcblx0XHRcdHdpbmRvdy5jb25zb2xlLmxvZyhnZXRPcHRpb25zRnJvbUlucHV0cygpKTtcblx0XHR9KTtcblx0fVxuXG5cdGlmIChyZXNldFRvRGVmYXVsdEJ1dHRvbiAhPT0gbnVsbCkge1xuXHRcdHJlc2V0VG9EZWZhdWx0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2V0dXBPcHRpb25zKTtcblx0fVxuXG5cdGlmIChnZW5lcmF0ZURhdGFCdXR0b24gIT09IG51bGwpIHtcblx0XHRnZW5lcmF0ZURhdGFCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBoZWFkZXJzSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1oZWFkZXJzXScpLFxuXHRcdFx0XHRmaXhlZEhlYWRlcnNJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPWZpeGVkSGVhZGVyc10nKSxcblx0XHRcdFx0ZGF0YVNvdXJjZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9ZGF0YVNvdXJjZV0nKSxcblx0XHRcdFx0aGVhZGVyU2l6ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNkYXRhLWdlbmVyYXRvci1oZWFkZXItc2l6ZScpLFxuXHRcdFx0XHRmaXhlZEhlYWRlclNpemUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZGF0YS1nZW5lcmF0b3ItZml4ZWQtaGVhZGVyLXNpemUnKSxcblx0XHRcdFx0aGVhZGVyc1Jvd1NpemUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZGF0YS1nZW5lcmF0b3ItaGVhZGVycy1yb3ctc2l6ZScpLFxuXHRcdFx0XHRkYXRhU2l6ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNkYXRhLWdlbmVyYXRvci1kYXRhLXNpemUnKTtcblxuXHRcdFx0aWYgKGhlYWRlcnNJbnB1dCA9PT0gbnVsbCB8fCBmaXhlZEhlYWRlcnNJbnB1dCA9PT0gbnVsbCB8fCBkYXRhU291cmNlSW5wdXQgPT09IG51bGwgfHxcblx0XHRcdFx0aGVhZGVyU2l6ZSA9PT0gbnVsbCB8fCBmaXhlZEhlYWRlclNpemUgPT09IG51bGwgfHwgaGVhZGVyc1Jvd1NpemUgPT09IG51bGwgfHwgZGF0YVNpemUgPT09IG51bGwpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgaGVhZGVyU2l6ZVZhbHVlID0gcGFyc2VJbnQoaGVhZGVyU2l6ZS52YWx1ZSwgMTApLFxuXHRcdFx0XHRmaXhlZEhlYWRlclNpemVWYWx1ZSA9IHBhcnNlSW50KGZpeGVkSGVhZGVyU2l6ZS52YWx1ZSwgMTApLFxuXHRcdFx0XHRoZWFkZXJzUm93U2l6ZVZhbHVlID0gcGFyc2VJbnQoaGVhZGVyc1Jvd1NpemUudmFsdWUsIDEwKSxcblx0XHRcdFx0ZGF0YVNpemVWYWx1ZSA9IHBhcnNlSW50KGRhdGFTaXplLnZhbHVlLCAxMCksXG5cdFx0XHRcdGhlYWRlcnMgPSBnZW5lcmF0ZUhlYWRlcnMoaGVhZGVyU2l6ZVZhbHVlLCBoZWFkZXJzUm93U2l6ZVZhbHVlKSxcblx0XHRcdFx0Zml4ZWRIZWFkZXJzID0gZ2VuZXJhdGVGaXhlZEhlYWRlcnMoZml4ZWRIZWFkZXJTaXplVmFsdWUsIGhlYWRlcnNSb3dTaXplVmFsdWUpLFxuXHRcdFx0XHRkYXRhID0gZ2VuZXJhdGVEYXRhKGhlYWRlcnMsIGZpeGVkSGVhZGVycywgZGF0YVNpemVWYWx1ZSk7XG5cblx0XHRcdGhlYWRlcnNJbnB1dC52YWx1ZSA9IEpTT04uc3RyaW5naWZ5KGhlYWRlcnMsIG51bGwsIDIpO1xuXHRcdFx0Zml4ZWRIZWFkZXJzSW5wdXQudmFsdWUgPSBKU09OLnN0cmluZ2lmeShmaXhlZEhlYWRlcnMsIG51bGwsIDIpO1xuXHRcdFx0ZGF0YVNvdXJjZUlucHV0LnZhbHVlID0gSlNPTi5zdHJpbmdpZnkoZGF0YSwgbnVsbCwgMik7XG5cdFx0fSk7XG5cdH1cbn0pOyJdfQ==
