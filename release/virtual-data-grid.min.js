!function e(t,n,i){function l(o,s){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!s&&a)return a(o,!0);if(r)return r(o,!0);var d=new Error("Cannot find module '"+o+"'");throw d.code="MODULE_NOT_FOUND",d}var c=n[o]={exports:{}};t[o][0].call(c.exports,function(e){var n=t[o][1][e];return l(n||e)},c,c.exports,e,t,n,i)}return n[o].exports}for(var r="function"==typeof require&&require,o=0;o<i.length;o++)l(i[o]);return l}({1:[function(e,t,n){"use strict";e("./pollyfills/Array.find.js"),e("./pollyfills/NodeList.forEach.js");var i=e("./modules/generator"),l=1;window.VirtualDataGrid=function(){var e=this;e.uniqueId=l++,e.generateTable=function(t){i.generateTable(e.uniqueId,t)},e.destroyTable=i.destroyTable,e.getId=function(){return e.uniqueId}}},{"./modules/generator":6,"./pollyfills/Array.find.js":7,"./pollyfills/NodeList.forEach.js":8}],2:[function(e,t,n){"use strict";var i={};t.exports=i},{}],3:[function(e,t,n){"use strict";t.exports=function(e){function t(t){n[t]=void 0===e||void 0===e[t]?null:e[t]}var n=this;t("key"),t("value"),t("class"),t("rowNumber"),t("columnNumber"),this.updateAttributes=function(e){Object.keys(e).forEach(function(t){void 0!==e[t]&&void 0!==n[t]&&(n[t]=e[t])})}}},{}],4:[function(e,t,n){"use strict";t.exports=function(e){function t(t){n[t]=void 0===e||void 0===e[t]?null:e[t]}var n=this;t("cell"),t("cellObject"),t("cancelEvent"),this.updateAttributes=function(e){Object.keys(e).forEach(function(t){void 0!==e[t]&&void 0!==n[t]&&(n[t]=e[t])})}}},{}],5:[function(e,t,n){"use strict";function i(){d.inner={},d.inner.selectors={},d.inner.selectors.bufferRowTop="buffer-row-top",d.inner.selectors.bufferRowBottom="buffer-row-bottom",d.inner.selectors.bufferColumnLeft="buffer-column-left",d.inner.selectors.bufferColumnRight="buffer-column-right",d.inner.selectors.headerRow="header-row",d.inner.selectors.headerCell="header-cell",d.inner.selectors.dataRow="data-row",d.inner.selectors.dataCell="data-cell",d.inner.minCellHeight=2,d.inner.tableHeightOffset=2*d.inner.minCellHeight,d.inner.editedCells=[],d.inner.leftCellOffset=0,d.inner.topCellOffset=0}function l(e){var t=a(e,"dimensions.containerHeight");void 0===t&&(t=c.getDefaultContainerHeight(d)),o("dimensions.containerHeight",c.calculateVirtualContainerHeight(d,t))}function r(){d.inner.indexOfCellKeyHeader=c.getIndexOfCellKeyHeader(d),d.inner.colspanOffset=c.getMaxColspan(d),d.inner.visibleRowNumber=c.getVisibleRowNumber(d),d.inner.visibleColumnNumber=c.getVisibleColumnNumber(d),d.tableWidth=c.getTableWidth(d),d.tableHeight=c.getTableHeight(d)}function o(e,t){var n=s(d,e),i=a(t,e),l=e.split("."),r=l[l.length-1];n[r]=void 0===i?"function"==typeof a(f,e)?a(f,e)(d):a(f,e):i}function s(e,t){if(-1===t.indexOf("."))return e;var n=t.split(".")[0],i=e[n];return void 0===i&&(e[n]={},i=e[n]),s(i,t.substring(t.indexOf(".")+1))}function a(e,t){if(-1===t.indexOf("."))return e[t];var n=e[t.split(".")[0]];return void 0===n?n:a(n,t.substring(t.indexOf(".")+1))}var d=e("../instances/configuration"),c=e("../utils/configuration"),u=e("../utils/generator"),f={selectors:{mainContainer:".data-container",fixedContainer:"fixed-container",fixedTable:"fixed-table",virtualContainer:"virtual-container",virtualTable:"virtual-table",editingCell:"editing-cell",editedCell:"edited-cell",saveButton:"btn-save"},dimensions:{cellWidth:150,cellHeight:50,containerHeight:c.getDefaultContainerHeight},edit:{enabled:!1},eventHandlers:{onBeforeEdit:c.nil,onValidation:c.nil,onAfterEdit:c.nil,onBeforeSave:c.nil,onAfterSave:c.nil},dataSource:[{}],headers:[[{}]],fixedHeaders:[[{}]],inner:{}};t.exports={init:function(e){i(),o("selectors.mainContainer",e),o("selectors.fixedContainer",e),o("selectors.fixedTable",e),o("selectors.virtualContainer",e),o("selectors.virtualTable",e),o("selectors.editingCell",e),o("selectors.editedCell",e),o("dimensions.cellWidth",e),o("dimensions.cellHeight",e),l(e),u.initContainers(d),o("dataSource",e),o("headers",e),o("fixedHeaders",e),o("edit.enabled",e),o("selectors.saveButton",e),o("visibleColumnNumber",e),o("onBeforeEdit",e),o("onValidation",e),o("onAfterEdit",e),o("onBeforeSave",e),o("onAfterSave",e),r()},updateValue:o}},{"../instances/configuration":2,"../utils/configuration":9,"../utils/generator":13}],6:[function(e,t,n){"use strict";var i=e("./configuration"),l=e("../utils/event-handler"),r=e("../utils/generator"),o=e("../utils/dom"),s=e("../instances/configuration");t.exports={generateTable:function(e,t){i.init(t),r.initTable(s),r.initBuffers(s),o.updateTable(),l.addEvents()},destroyTable:function(){l.removeEvents(),o.destroyTable()}}},{"../instances/configuration":2,"../utils/dom":10,"../utils/event-handler":12,"../utils/generator":13,"./configuration":5}],7:[function(e,t,n){"use strict";void 0===Array.prototype.find&&(Array.prototype.find=function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,n=Object(this),i=n.length>>>0,l=arguments[1],r=0;r<i;r++)if(t=n[r],e.call(l,t,r,n))return t})},{}],8:[function(e,t,n){"use strict";NodeList.prototype.forEach||(NodeList.prototype.forEach=function(e,t){t=t||window;for(var n=0;n<this.length;n++)e.call(t,this[n],n,this)})},{}],9:[function(e,t,n){"use strict";function i(e,t){return void 0===t?t:e.inner.tableHeightOffset+Math.floor(t/e.dimensions.cellHeight)*e.dimensions.cellHeight}t.exports={calculateVirtualContainerHeight:i,getDefaultContainerHeight:function(e){return i(e,window.innerHeight-document.querySelector(e.selectors.mainContainer).getBoundingClientRect().top-64)},getIndexOfCellKeyHeader:function(e){return e.headers.length-1},getMaxColspan:function(e){var t=0;return e.headers.forEach(function(e){e.forEach(function(e){void 0!==e.colspan&&t<e.colspan&&(t=e.colspan)})}),t},getVisibleRowNumber:function(e){return Math.floor((e.dimensions.containerHeight-e.inner.tableHeightOffset)/e.dimensions.cellHeight)-e.headers.length},getVisibleColumnNumber:function(e){return Math.floor(document.querySelector("."+e.selectors.virtualContainer).offsetWidth/e.dimensions.cellWidth+(e.inner.colspanOffset>2?e.inner.colspanOffset:2)+e.inner.colspanOffset)},getTableWidth:function(e){return(e.headers[e.inner.indexOfCellKeyHeader].length-e.inner.visibleColumnNumber)*e.dimensions.cellWidth},getTableHeight:function(e){return(e.dataSource.length-e.inner.visibleRowNumber+1)*e.dimensions.cellHeight},nil:function(){return function(){}}}},{}],10:[function(e,t,n){"use strict";function i(e,t){e.innerHTML=t.value,e.className=o.inner.selectors.dataCell+" "+(t.class||"")}function l(){var e=0,t=1;document.querySelectorAll("."+o.selectors.virtualTable+" tr."+o.inner.selectors.headerRow).forEach(function(n){n.querySelectorAll("td."+o.inner.selectors.headerCell).forEach(function(n,i){var l=o.headers[e][o.inner.leftCellOffset+i];if(t>1?(n.style.display="none",t--):(n.innerHTML=l.text||l.key||"",n.style.display="table-cell"),void 0===l.colspan)n.removeAttribute("colspan");else{var r=o.inner.visibleColumnNumber<=i+l.colspan?o.inner.visibleColumnNumber-i:l.colspan;n.setAttribute("colspan",r),t=r}}),e++,t=1}),document.querySelectorAll("."+o.selectors.virtualTable+" tr."+o.inner.selectors.dataRow).forEach(function(e,t){e.querySelectorAll("td."+o.inner.selectors.dataCell).forEach(function(e,n){i(e,r.getCell(o.inner.topCellOffset+t,o.inner.leftCellOffset+n))})}),document.querySelectorAll("."+o.selectors.fixedTable+" tr."+o.inner.selectors.dataRow).forEach(function(e,t){e.querySelectorAll("td."+o.inner.selectors.dataCell).forEach(function(e,n){i(e,r.getFixedCell(o.inner.topCellOffset+t,n))})})}var r=e("./table"),o=e("../instances/configuration");t.exports={indexOfElement:function(e){for(var t=e.parentNode.childNodes,n=0;n<t.length;n++)if(t[n]===e)return n;return-1},updateCell:i,updateTable:l,resetEditingCell:function(e){document.querySelectorAll("."+o.selectors.virtualTable+" td."+o.selectors.editingCell).forEach(function(t){var n=t.querySelector("input");n.removeEventListener("blur",e),t.innerHTML=n.value,t.classList.remove(o.selectors.editingCell)})},resetEditedCell:function(){document.querySelectorAll("."+o.selectors.virtualTable+" td."+o.selectors.editingCell).forEach(function(e){e.classList.remove(o.selectors.editedCell)}),o.inner.editedCells=[],l()},destroyTable:function(){document.querySelector(o.selectors.mainContainer).innerHTML=""}}},{"../instances/configuration":2,"./table":14}],11:[function(e,t,n){"use strict";var i=e("../models/event-arguments"),l=e("./table"),r=e("./dom"),o=e("../instances/configuration");t.exports={saveCells:function(){if(o.edit.enabled){var e=new i({cellObject:o.inner.editedCells,cancelEvent:!1});o.eventHandlers.onBeforeSave(e),e.cancelEvent||(o.inner.editedCells.forEach(function(e){l.setCellValue(e.rowNumber,e.columnNumber,e.value)}),r.resetEditedCell(),o.eventHandlers.onAfterSave(e))}}}},{"../instances/configuration":2,"../models/event-arguments":4,"./dom":10,"./table":14}],12:[function(e,t,n){"use strict";function i(e){e.preventDefault(),s.scrollTop+=e.deltaY,s.scrollLeft+=e.deltaX}function l(){d.resetEditingCell(r),f.initBuffers(m),d.updateTable()}function r(){var e=this.parentNode,t=d.indexOfElement(e.parentNode)+m.inner.topCellOffset,n=d.indexOfElement(e)-1+m.inner.leftCellOffset,i=c.getCell(t,n);if(i.updateAttributes({value:this.value,class:m.selectors.editedCell}),c.isCellChanged(i)){var l=new a({cell:e,cellObject:i,cancelEvent:!1});m.eventHandlers.onValidation(l),!0!==l.cancelEdit&&(c.setUpdatedCellValue(l.cellObject),d.updateCell(l.cell,l.cellObject),m.eventHandlers.onAfterEdit(l))}else d.resetEditingCell(r)}function o(){if(m.edit.enabled){var e=d.indexOfElement(this.parentNode)+m.inner.topCellOffset,t=d.indexOfElement(this)-1+m.inner.leftCellOffset,n=c.getCell(e,t),i=document.createElement("input");i.setAttribute("type","text");var l=new a({cell:this,cellObject:n,cancelEvent:!1});m.eventHandlers.onBeforeEdit(l),l.cancelEvent||(this.classList.add(m.selectors.editingCell),this.classList.remove(m.selectors.editedCell),this.innerHTML="",this.appendChild(i),i.focus(),i.value=n.value,i.addEventListener("blur",r))}}var s,a=e("../models/event-arguments"),d=e("../utils/dom"),c=e("../utils/table"),u=e("../utils/edit"),f=e("../utils/generator"),m=e("../instances/configuration");t.exports={onClickCellEventHandler:o,addEvents:function(){null!==(s=document.querySelector("."+m.selectors.virtualContainer))&&(s.addEventListener("wheel",i,{passive:!1,capture:!0}),s.addEventListener("scroll",l)),m.edit.enabled&&null!==m.selectors.saveButton&&document.querySelector(m.selectors.saveButton).addEventListener("click",u.saveCells),m.edit.enabled&&document.querySelectorAll("."+m.selectors.virtualTable+" td."+m.inner.selectors.dataCell).forEach(function(e){e.addEventListener("click",o)})},removeEvents:function(){document.querySelector("."+m.selectors.virtualContainer).removeEventListener("scroll",l)}}},{"../instances/configuration":2,"../models/event-arguments":4,"../utils/dom":10,"../utils/edit":11,"../utils/generator":13,"../utils/table":14}],13:[function(e,t,n){"use strict";t.exports={initTable:function(e){var t=document.createElement("thead"),n=document.createElement("tbody"),i=document.createElement("tr");i.classList.add(e.inner.selectors.bufferRowTopClass);var l,r,o,s,a,d,c,u;for((a=document.createElement("td")).classList.add(e.inner.selectors.bufferColumnLeft),i.appendChild(a),l=0;l<e.inner.visibleColumnNumber;l++)(u=document.createElement("td")).style.minWidth=e.dimensions.cellWidth+"px",i.appendChild(u);for((d=document.createElement("td")).classList.add(e.inner.selectors.bufferColumnRight),i.appendChild(d),t.appendChild(i),e.headers.forEach(function(n){for((o=document.createElement("tr")).classList.add(e.inner.selectors.headerRow),o.style.height=e.dimensions.cellHeight+"px",(u=document.createElement("td")).classList.add(e.inner.selectors.bufferColumnLeft),o.appendChild(u),r=0;r<e.inner.visibleColumnNumber;r++)(u=document.createElement("td")).classList.add(e.inner.selectors.headerCell),u.style.minWidth=e.dimensions.cellWidth+"px",u.innerHTML=n[r].text||n[r].key||"",o.appendChild(u);(u=document.createElement("td")).classList.add(e.inner.selectors.bufferColumnRight),o.appendChild(u),t.appendChild(o)}),l=0;l<e.inner.visibleRowNumber;l++){for((s=document.createElement("tr")).classList.add(e.inner.selectors.dataRow),s.style.height=e.dimensions.cellHeight+"px",(u=document.createElement("td")).classList.add(e.inner.selectors.bufferColumnLeft),s.appendChild(u),r=0;r<e.inner.visibleColumnNumber;r++)(u=document.createElement("td")).classList.add(e.inner.selectors.dataCell),u.style.minWidth=e.dimensions.cellWidth+"px",s.appendChild(u);(u=document.createElement("td")).classList.add(e.inner.selectors.bufferColumnRight),s.appendChild(u),n.appendChild(s)}if((c=document.createElement("tr")).classList.add(e.inner.selectors.bufferRowBottom),n.appendChild(c),document.querySelector("."+e.selectors.virtualTable).appendChild(t),document.querySelector("."+e.selectors.virtualTable).appendChild(n),e.inner.bufferLeft=document.querySelectorAll("."+e.inner.selectors.bufferColumnLeft),e.inner.bufferRight=document.querySelectorAll("."+e.inner.selectors.bufferColumnRight),e.inner.bufferTop=document.querySelectorAll("."+e.inner.selectors.bufferRowTopClass),e.inner.bufferBottom=document.querySelectorAll("."+e.inner.selectors.bufferRowBottom),0!==e.fixedHeaders.length){var f=document.createElement("thead"),m=document.createElement("tbody");for(l=0;l<e.fixedHeaders.length;l++){for((o=document.createElement("tr")).classList.add(e.inner.selectors.headerRow),o.style.height=e.dimensions.cellHeight+"px",r=0;r<e.fixedHeaders[l].length;r++)(u=document.createElement("td")).classList.add(e.inner.selectors.headerCell),u.style.minWidth=e.dimensions.cellWidth+"px",u.innerHTML=e.fixedHeaders[l][r].text||e.fixedHeaders[l][r].key||"",o.appendChild(u);f.appendChild(o)}for(l=0;l<e.inner.visibleRowNumber;l++){for((s=document.createElement("tr")).classList.add(e.inner.selectors.dataRow),s.style.height=e.dimensions.cellHeight+"px",r=0;r<e.fixedHeaders[e.inner.indexOfCellKeyHeader].length;r++)(u=document.createElement("td")).classList.add(e.inner.selectors.dataCell),u.style.minWidth=e.dimensions.cellWidth+"px",s.appendChild(u);m.appendChild(s)}document.querySelector("."+e.selectors.fixedTable).appendChild(f),document.querySelector("."+e.selectors.fixedTable).appendChild(m)}},initContainers:function(e){var t=document.querySelector(e.selectors.mainContainer),n=document.createElement("div"),i=document.createElement("table"),l=document.createElement("div"),r=document.createElement("table");n.classList.add(e.selectors.virtualContainer),i.classList.add(e.selectors.virtualTable),l.classList.add(e.selectors.fixedContainer),r.classList.add(e.selectors.fixedTable),t.appendChild(l),l.appendChild(r),t.appendChild(n),n.appendChild(i),n.style.maxHeight=e.dimensions.containerHeight+"px",n.style.overflow="scroll",l.style.padding=e.inner.minCellHeight+"px 0",l.style.float="left"},initBuffers:function(e){var t=document.querySelector("."+e.selectors.virtualContainer).scrollLeft-document.querySelector("."+e.selectors.virtualContainer).scrollLeft%e.dimensions.cellWidth-e.inner.colspanOffset*e.dimensions.cellWidth,n=e.tableWidth-t,i=document.querySelector("."+e.selectors.virtualContainer).scrollTop,l=e.tableHeight-i;t=t>e.tableWidth?e.tableWidth:t,t=t<0?0:t,n=e.tableWidth-t,i=i+e.inner.minCellHeight>e.tableHeight?e.tableHeight+e.inner.minCellHeight:i+e.inner.minCellHeight,l=e.tableHeight-i,e.inner.leftCellOffset=Math.floor(t/e.dimensions.cellWidth),e.inner.topCellOffset=Math.floor((i-i%e.dimensions.cellHeight)/e.dimensions.cellHeight),e.inner.bufferLeft.forEach(function(e){e.style.minWidth=t+"px"}),e.inner.bufferRight.forEach(function(e){e.style.minWidth=n+"px"}),e.inner.bufferTop.forEach(function(e){e.style.height=i+"px"}),e.inner.bufferBottom.forEach(function(e){e.style.height=l+"px"})}}},{}],14:[function(e,t,n){"use strict";function i(e,t){var n=r.inner.editedCells.find(function(n){return n.rowNumber===e&&n.columnNumber===t}),i=r.headers[r.inner.indexOfCellKeyHeader];return void 0===n&&(n=new l({key:i[t].key,value:r.dataSource[e][i[t].key]})).updateAttributes({rowNumber:e,columnNumber:t}),n}var l=e("../models/cell"),r=e("../instances/configuration");t.exports={getCell:i,getFixedCell:function(e,t){var n=r.fixedHeaders[r.inner.indexOfCellKeyHeader];return new l({key:n[t].key,value:r.dataSource[e][n[t].key]})},setCellValue:function(e,t,n){var i=r.headers[r.inner.indexOfCellKeyHeader];r.dataSource[e][i[t].key]=n},isCellChanged:function(e){var t=i(e.rowNumber,e.columnNumber),n=r.inner.editedCells.find(function(t){return t.rowNumber===e.rowNumber&&t.columnNumber===e.columnNumber});return(t.value||"")!==e.value||void 0!==n},setUpdatedCellValue:function(e){var t=r.inner.editedCells.find(function(t){return t.rowNumber===e.rowNumber&&t.columnNumber===e.columnNumber});void 0===t?r.inner.editedCells.push(e):t.value=e.value}}},{"../instances/configuration":2,"../models/cell":3}]},{},[1]);