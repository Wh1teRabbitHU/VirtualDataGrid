!function e(t,n,r){function l(o,a){if(!n[o]){if(!t[o]){var s="function"==typeof require&&require;if(!a&&s)return s(o,!0);if(i)return i(o,!0);var d=new Error("Cannot find module '"+o+"'");throw d.code="MODULE_NOT_FOUND",d}var c=n[o]={exports:{}};t[o][0].call(c.exports,function(e){var n=t[o][1][e];return l(n||e)},c,c.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)l(r[o]);return l}({1:[function(e,t,n){"use strict";e("./pollyfills/Array.find.js"),e("./pollyfills/NodeList.forEach.js");var r=e("./models/virtual-data-grid");window.VirtualDataGrid=r},{"./models/virtual-data-grid":4,"./pollyfills/Array.find.js":7,"./pollyfills/NodeList.forEach.js":8}],2:[function(e,t,n){"use strict";t.exports=function(e){function t(t){n[t]=void 0===e||void 0===e[t]?null:e[t]}var n=this;t("key"),t("value"),t("class"),t("rowNumber"),t("columnNumber"),this.updateAttributes=function(e){Object.keys(e).forEach(function(t){void 0!==e[t]&&void 0!==n[t]&&(n[t]=e[t])})}}},{}],3:[function(e,t,n){"use strict";t.exports=function(e){function t(t){n[t]=void 0===e||void 0===e[t]?null:e[t]}var n=this;t("cell"),t("cellObject"),t("cancelEvent"),this.updateAttributes=function(e){Object.keys(e).forEach(function(t){void 0!==e[t]&&void 0!==n[t]&&(n[t]=e[t])})}}},{}],4:[function(e,t,n){"use strict";var r=e("../modules/generator"),l=1;t.exports=function(){var e=this;e.configuration={},e.uniqueId=l++,e.generateTable=function(t){r.generateTable(e.configuration,t)},e.destroyTable=function(){r.destroyTable(e.configuration)},e.getId=function(){return e.uniqueId}}},{"../modules/generator":6}],5:[function(e,t,n){"use strict";function r(e){e.selectors={},e.eventHandlers={},e.inner=Object.assign({},f)}function l(e,t){var n=s(t,"dimensions.containerHeight");void 0===n&&(n=d.getDefaultContainerHeight(e)),e.dimensions.containerHeight=d.calculateVirtualContainerHeight(e,n)}function i(e){e.inner.indexOfCellKeyHeader=d.getIndexOfCellKeyHeader(e),e.inner.colspanOffset=d.getMaxColspan(e),e.inner.visibleRowNumber=d.getVisibleRowNumber(e),e.inner.visibleColumnNumber=d.getVisibleColumnNumber(e),e.tableWidth=d.getTableWidth(e),e.tableHeight=d.getTableHeight(e)}function o(e,t,n){var r=a(e,n),l=s(t,n),i=n.split("."),o=i[i.length-1];r[o]=void 0===l?"function"==typeof s(u,n)?s(u,n)(e):s(u,n):l}function a(e,t){if(-1===t.indexOf("."))return e;var n=t.split(".")[0],r=e[n];return void 0===r&&(e[n]={},r=e[n]),a(r,t.substring(t.indexOf(".")+1))}function s(e,t){if(-1===t.indexOf("."))return e[t];var n=e[t.split(".")[0]];return void 0===n?n:s(n,t.substring(t.indexOf(".")+1))}var d=e("../utils/configuration"),c=e("../utils/generator"),u={selectors:{mainContainer:".data-container",fixedContainer:"fixed-container",fixedTable:"fixed-table",virtualContainer:"virtual-container",virtualTable:"virtual-table",editingCell:"editing-cell",editedCell:"edited-cell",saveButton:null},dimensions:{cellWidth:150,cellHeight:50,containerHeight:d.getDefaultContainerHeight},edit:{enabled:!1},filter:{enabled:!1},sort:{enabled:!0,default:d.getSortDefault,comparator:null},eventHandlers:{onBeforeEdit:d.nil,onValidation:d.nil,onAfterEdit:d.nil,onBeforeSave:d.nil,onAfterSave:d.nil},dataSource:[],headers:[[]],fixedHeaders:[[]],debug:!1,inner:{}},f={selectors:{bufferRowTop:"buffer-row-top",bufferRowBottom:"buffer-row-bottom",bufferColumnLeft:"buffer-column-left",bufferColumnRight:"buffer-column-right",headerRow:"header-row",headerCell:"header-cell",dataRow:"data-row",dataCell:"data-cell",sortColumn:"sort-column",sortIcon:"sort-icon"},icons:{sort:{asc:"fa fa-arrow-down",desc:"fa fa-arrow-up"}},sort:{},minBufferWidth:2,minBufferHeight:2,leftCellOffset:0,topCellOffset:0,editedCells:[]};t.exports={init:function(e,t){r(e),o(e,t,"selectors.mainContainer"),o(e,t,"selectors.fixedContainer"),o(e,t,"selectors.fixedTable"),o(e,t,"selectors.virtualContainer"),o(e,t,"selectors.virtualTable"),o(e,t,"selectors.editingCell"),o(e,t,"selectors.editedCell"),o(e,t,"selectors.saveButton"),o(e,t,"dimensions.cellWidth"),o(e,t,"dimensions.cellHeight"),l(e,t),c.initContainers(e),o(e,t,"dataSource"),o(e,t,"headers"),o(e,t,"fixedHeaders"),o(e,t,"edit.enabled"),o(e,t,"filter.enabled"),o(e,t,"sort.enabled"),o(e,t,"sort.default"),o(e,t,"sort.comparator"),o(e,t,"debug"),o(e,t,"eventHandlers.onBeforeEdit"),o(e,t,"eventHandlers.onValidation"),o(e,t,"eventHandlers.onAfterEdit"),o(e,t,"eventHandlers.onBeforeSave"),o(e,t,"eventHandlers.onAfterSave"),i(e)}}},{"../utils/configuration":9,"../utils/generator":13}],6:[function(e,t,n){"use strict";var r=e("./configuration"),l=e("../utils/event-handler"),i=e("../utils/generator"),o=e("../utils/dom");t.exports={generateTable:function(e,t){r.init(e,t),i.initTable(e),i.initBuffers(e),o.updateTable(e),l.addEvents(e)},destroyTable:function(e){l.removeEvents(e),o.destroyTable(e)}}},{"../utils/dom":10,"../utils/event-handler":12,"../utils/generator":13,"./configuration":5}],7:[function(e,t,n){"use strict";void 0===Array.prototype.find&&(Array.prototype.find=function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,n=Object(this),r=n.length>>>0,l=arguments[1],i=0;i<r;i++)if(t=n[i],e.call(l,t,i,n))return t})},{}],8:[function(e,t,n){"use strict";NodeList.prototype.forEach||(NodeList.prototype.forEach=function(e,t){t=t||window;for(var n=0;n<this.length;n++)e.call(t,this[n],n,this)})},{}],9:[function(e,t,n){"use strict";function r(e,t){return void 0===t?t:2*e.inner.minBufferHeight+Math.floor(t/e.dimensions.cellHeight)*e.dimensions.cellHeight}t.exports={calculateVirtualContainerHeight:r,getDefaultContainerHeight:function(e){return r(e,window.innerHeight-document.querySelector(e.selectors.mainContainer).getBoundingClientRect().top-64)},getIndexOfCellKeyHeader:function(e){return e.headers.length-1},getSortDefault:function(e){return e.headers[e.headers.length-1][0].key},getMaxColspan:function(e){var t=0;return e.headers.forEach(function(e){e.forEach(function(e){void 0!==e.colspan&&t<e.colspan&&(t=e.colspan)})}),t},getVisibleRowNumber:function(e){var t=e.filter.enabled,n=e.dimensions.containerHeight-2*e.inner.minBufferHeight;return Math.floor(n/e.dimensions.cellHeight)-(e.headers.length+(t?1:0))},getVisibleColumnNumber:function(e){return Math.floor(document.querySelector("."+e.selectors.virtualContainer).offsetWidth/e.dimensions.cellWidth+(e.inner.colspanOffset>2?e.inner.colspanOffset:2)+e.inner.colspanOffset)},getTableWidth:function(e){return(e.headers[e.inner.indexOfCellKeyHeader].length-e.inner.visibleColumnNumber)*e.dimensions.cellWidth},getTableHeight:function(e){return(e.dataSource.length-e.inner.visibleRowNumber+1)*e.dimensions.cellHeight},nil:function(){return function(){}}}},{}],10:[function(e,t,n){"use strict";function r(e,t,n){t.innerHTML=n.value,t.className=e.inner.selectors.dataCell+" "+(n.class||"")}function l(e){var t=0,n=1;document.querySelectorAll("."+e.selectors.virtualTable+" tr."+e.inner.selectors.headerRow).forEach(function(r){r.querySelectorAll("td."+e.inner.selectors.headerCell).forEach(function(r,l){var o=e.headers[t][e.inner.leftCellOffset+l];if(n>1?(r.style.display="none",n--):(r.innerHTML=i(e,r,o),r.style.display="table-cell"),void 0===o.colspan)r.removeAttribute("colspan");else{var a=e.inner.visibleColumnNumber<=l+o.colspan?e.inner.visibleColumnNumber-l:o.colspan;r.setAttribute("colspan",a),n=a}}),t++,n=1}),document.querySelectorAll("."+e.selectors.virtualTable+" tr."+e.inner.selectors.dataRow).forEach(function(t,n){t.querySelectorAll("td."+e.inner.selectors.dataCell).forEach(function(t,l){r(e,t,o.getCell(e,e.inner.topCellOffset+n,e.inner.leftCellOffset+l))})}),document.querySelectorAll("."+e.selectors.fixedTable+" tr."+e.inner.selectors.dataRow).forEach(function(t,n){t.querySelectorAll("td."+e.inner.selectors.dataCell).forEach(function(t,l){r(e,t,o.getFixedCell(e,e.inner.topCellOffset+n,l))})})}function i(e,t,n){var r="",l=n.text||n.key||"";if(e.sort.enabled&&!n.sortDisabled){var i=n.key,o=e.inner.sort.attribute===i?e.inner.sort.direction:"none",a="none"!==o,s="down"===o?e.inner.icons.sort.asc:e.inner.icons.sort.desc;r+='<i class="'+(e.inner.selectors.sortIcon+(a?" "+s:"hidden"))+'" aria-hidden="true"></i>',t.setAttribute("data-direction",o),t.setAttribute("data-attribute",i)}return r+=l}var o=e("./table");t.exports={updateCell:r,updateTable:l,resetEditingCell:function(e,t){document.querySelectorAll("."+e.selectors.virtualTable+" td."+e.selectors.editingCell).forEach(function(n){var r=n.querySelector("input");r.removeEventListener("blur",t),n.innerHTML=r.value,n.classList.remove(e.selectors.editingCell)})},resetEditedCell:function(e){document.querySelectorAll("."+e.selectors.virtualTable+" td."+e.selectors.editingCell).forEach(function(t){t.classList.remove(e.selectors.editedCell)}),e.inner.editedCells=[],l(e)},destroyTable:function(e){document.querySelector(e.selectors.mainContainer).innerHTML=""},indexOfElement:function(e){for(var t=e.parentNode.childNodes,n=0;n<t.length;n++)if(t[n]===e)return n;return-1},getHeaderCellHtml:i}},{"./table":15}],11:[function(e,t,n){"use strict";var r=e("../models/event-arguments"),l=e("./table"),i=e("./dom");t.exports={saveCells:function(e){if(e.edit.enabled){var t=new r({cellObject:e.inner.editedCells,cancelEvent:!1});e.eventHandlers.onBeforeSave(t),t.cancelEvent||(e.inner.editedCells.forEach(function(t){l.setCellValue(e,t.rowNumber,t.columnNumber,t.value)}),i.resetEditedCell(e),e.eventHandlers.onAfterSave(t))}}}},{"../models/event-arguments":3,"./dom":10,"./table":15}],12:[function(e,t,n){"use strict";function r(e){e.preventDefault(),d.scrollTop+=e.deltaY,d.scrollLeft+=e.deltaX}function l(e,t){u.resetEditingCell(t,b.onInputBlurEventHandler),v.initBuffers(t),u.updateTable(t)}function i(e,t){var n=e.target.parentNode,r=u.indexOfElement(n.parentNode)+t.inner.topCellOffset,l=u.indexOfElement(n)-1+t.inner.leftCellOffset,i=f.getCell(t,r,l);if(i.updateAttributes({value:e.target.value,class:t.selectors.editedCell}),f.isCellChanged(t,i)){var o=new c({cell:n,cellObject:i,cancelEvent:!1});t.eventHandlers.onValidation(o),!0!==o.cancelEdit&&(f.setUpdatedCellValue(t,o.cellObject),u.updateCell(t,o.cell,o.cellObject),t.eventHandlers.onAfterEdit(o))}else u.resetEditingCell(t,b.onInputBlurEventHandler)}function o(e,t){if(t.edit.enabled){var n=u.indexOfElement(e.target.parentNode)+t.inner.topCellOffset,r=u.indexOfElement(e.target)-1+t.inner.leftCellOffset,l=f.getCell(t,n,r),o=document.createElement("input");o.setAttribute("type","text");var a=new c({cell:e.target,cellObject:l,cancelEvent:!1});t.eventHandlers.onBeforeEdit(a),a.cancelEvent||(e.target.classList.add(t.selectors.editingCell),e.target.classList.remove(t.selectors.editedCell),e.target.innerHTML="",e.target.appendChild(o),b.onInputBlurEventHandler=function(e){i(e,t)},o.focus(),o.value=l.value,o.addEventListener("blur",b.onInputBlurEventHandler))}}function a(e,t){m.saveCells(t)}function s(e,t){var n="."+t.inner.selectors.sortColumn,r=n+" ."+t.inner.selectors.sortIcon;(e.target.matches(n)||e.target.matches(r))&&(e.target.matches(r)&&h.resetSort(t),e.target.matches(n)&&h.sortByColumn(t,e.target))}var d,c=e("../models/event-arguments"),u=e("../utils/dom"),f=e("../utils/table"),m=e("../utils/edit"),v=e("../utils/generator"),h=e("../utils/sort"),b={onScrollEventHandler:function(){},onInputBlurEventHandler:function(){},onClickCellEventHandler:function(){},onClickSaveButtonEventHandler:function(){}};t.exports={addEvents:function(e){d=document.querySelector("."+e.selectors.virtualContainer),b.onScrollEventHandler=function(t){l(t,e)},b.onClickCellEventHandler=function(t){o(t,e)},b.onClickSaveButtonEventHandler=function(t){a(t,e)},b.onClickSortHeader=function(t){s(t,e)},null!==d&&(d.addEventListener("wheel",r,{passive:!1,capture:!0}),d.addEventListener("scroll",b.onScrollEventHandler)),e.edit.enabled&&null!==e.selectors.saveButton&&document.querySelector(e.selectors.saveButton).addEventListener("click",b.onClickSaveButtonEventHandler),e.edit.enabled&&document.querySelectorAll("."+e.selectors.virtualTable+" td."+e.inner.selectors.dataCell).forEach(function(e){e.addEventListener("click",b.onClickCellEventHandler)}),e.sort.enabled&&document.addEventListener("click",b.onClickSortHeader)},removeEvents:function(e){null!==(d=document.querySelector("."+e.selectors.virtualContainer))&&(d.removeEventListener("wheel",r),d.removeEventListener("scroll",b.onScrollEventHandler)),e.edit.enabled&&null!==e.selectors.saveButton&&document.querySelector(e.selectors.saveButton).removeEventListener("click",b.onClickSaveButtonEventHandler),e.edit.enabled&&document.querySelectorAll("."+e.selectors.virtualTable+" td."+e.inner.selectors.dataCell).forEach(function(e){e.removeEventListener("click",b.onClickCellEventHandler)}),e.sort.enabled&&document.removeEventListener("click",b.onClickSortHeader)}}},{"../models/event-arguments":3,"../utils/dom":10,"../utils/edit":11,"../utils/generator":13,"../utils/sort":14,"../utils/table":15}],13:[function(e,t,n){"use strict";var r=e("./dom");t.exports={initTable:function(e){var t=document.createElement("thead"),n=document.createElement("tbody"),l=document.createElement("tr");l.classList.add(e.inner.selectors.bufferRowTopClass);var i,o,a,s,d,c,u,f;for((d=document.createElement("td")).classList.add(e.inner.selectors.bufferColumnLeft),l.appendChild(d),i=0;i<e.inner.visibleColumnNumber;i++)(f=document.createElement("td")).style.minWidth=e.dimensions.cellWidth+"px",l.appendChild(f);for((c=document.createElement("td")).classList.add(e.inner.selectors.bufferColumnRight),l.appendChild(c),t.appendChild(l),e.headers.forEach(function(n){for((a=document.createElement("tr")).classList.add(e.inner.selectors.headerRow),a.style.height=e.dimensions.cellHeight+"px",(f=document.createElement("td")).classList.add(e.inner.selectors.bufferColumnLeft),a.appendChild(f),o=0;o<e.inner.visibleColumnNumber;o++)(f=document.createElement("td")).classList.add(e.inner.selectors.headerCell),f.style.minWidth=e.dimensions.cellWidth+"px",f.innerHTML=r.getHeaderCellHtml(e,f,n[o]),e.sort.enabled&&!n[o].sortDisabled&&f.classList.add(e.inner.selectors.sortColumn),a.appendChild(f);(f=document.createElement("td")).classList.add(e.inner.selectors.bufferColumnRight),a.appendChild(f),t.appendChild(a)}),i=0;i<e.inner.visibleRowNumber;i++){for((s=document.createElement("tr")).classList.add(e.inner.selectors.dataRow),s.style.height=e.dimensions.cellHeight+"px",(f=document.createElement("td")).classList.add(e.inner.selectors.bufferColumnLeft),s.appendChild(f),o=0;o<e.inner.visibleColumnNumber;o++)(f=document.createElement("td")).classList.add(e.inner.selectors.dataCell),f.style.minWidth=e.dimensions.cellWidth+"px",s.appendChild(f);(f=document.createElement("td")).classList.add(e.inner.selectors.bufferColumnRight),s.appendChild(f),n.appendChild(s)}if((u=document.createElement("tr")).classList.add(e.inner.selectors.bufferRowBottom),n.appendChild(u),document.querySelector("."+e.selectors.virtualTable).appendChild(t),document.querySelector("."+e.selectors.virtualTable).appendChild(n),e.inner.bufferLeft=document.querySelectorAll("."+e.inner.selectors.bufferColumnLeft),e.inner.bufferRight=document.querySelectorAll("."+e.inner.selectors.bufferColumnRight),e.inner.bufferTop=document.querySelectorAll("."+e.inner.selectors.bufferRowTopClass),e.inner.bufferBottom=document.querySelectorAll("."+e.inner.selectors.bufferRowBottom),0!==e.fixedHeaders.length&&0!==e.fixedHeaders[0].length){var m=document.createElement("thead"),v=document.createElement("tbody");for(i=0;i<e.fixedHeaders.length;i++){for((a=document.createElement("tr")).classList.add(e.inner.selectors.headerRow),a.style.height=e.dimensions.cellHeight+"px",o=0;o<e.fixedHeaders[i].length;o++)(f=document.createElement("td")).classList.add(e.inner.selectors.headerCell),f.style.minWidth=e.dimensions.cellWidth+"px",f.innerHTML=e.fixedHeaders[i][o].text||e.fixedHeaders[i][o].key||"",a.appendChild(f);m.appendChild(a)}for(i=0;i<e.inner.visibleRowNumber;i++){for((s=document.createElement("tr")).classList.add(e.inner.selectors.dataRow),s.style.height=e.dimensions.cellHeight+"px",o=0;o<e.fixedHeaders[e.inner.indexOfCellKeyHeader].length;o++)(f=document.createElement("td")).classList.add(e.inner.selectors.dataCell),f.style.minWidth=e.dimensions.cellWidth+"px",s.appendChild(f);v.appendChild(s)}document.querySelector("."+e.selectors.fixedTable).appendChild(m),document.querySelector("."+e.selectors.fixedTable).appendChild(v)}else document.querySelector("."+e.selectors.fixedTable).remove()},initContainers:function(e){var t=document.querySelector(e.selectors.mainContainer),n=document.createElement("div"),r=document.createElement("table"),l=document.createElement("div"),i=document.createElement("table");n.classList.add(e.selectors.virtualContainer),r.classList.add(e.selectors.virtualTable),l.classList.add(e.selectors.fixedContainer),i.classList.add(e.selectors.fixedTable),t.appendChild(l),l.appendChild(i),t.appendChild(n),n.appendChild(r),n.style.maxHeight=e.dimensions.containerHeight+"px",n.style.overflow="scroll",l.style.padding=e.inner.minBufferHeight+"px 0",l.style.float="left"},initBuffers:function(e){var t=document.querySelector("."+e.selectors.virtualContainer).scrollLeft-document.querySelector("."+e.selectors.virtualContainer).scrollLeft%e.dimensions.cellWidth-e.inner.colspanOffset*e.dimensions.cellWidth,n=e.tableWidth-t,r=document.querySelector("."+e.selectors.virtualContainer).scrollTop,l=e.tableHeight-r;t=t>e.tableWidth?e.tableWidth:t,t=t<e.inner.minBufferWidth?e.inner.minBufferWidth:t,n=e.tableWidth-t,r=r+e.inner.minBufferHeight>e.tableHeight?e.tableHeight+e.inner.minBufferHeight:r+e.inner.minBufferHeight,l=e.tableHeight-r,e.inner.leftCellOffset=Math.floor(t/e.dimensions.cellWidth),e.inner.topCellOffset=Math.floor((r-r%e.dimensions.cellHeight)/e.dimensions.cellHeight),e.inner.bufferLeft.forEach(function(e){e.style.minWidth=t+"px"}),e.inner.bufferRight.forEach(function(e){e.style.minWidth=n+"px"}),e.inner.bufferTop.forEach(function(e){e.style.height=r+"px"}),e.inner.bufferBottom.forEach(function(e){e.style.height=l+"px"})}}},{"./dom":10}],14:[function(e,t,n){"use strict";function r(e,t,n,r){var l=e[n],i=t[n];return void 0===l&&void 0!==i||l<i?r?-1:1:void 0!==l&&void 0===i||l>i?r?1:-1:0}var l=e("./dom");t.exports={sortByColumn:function(e,t){var n=t.getAttribute("data-direction"),i=t.getAttribute("data-attribute");n="none"===n||"down"===n?"up":"down",e.inner.sort.direction=n,e.inner.sort.attribute=i,e.dataSource.sort(function(t,l){return null!==e.sort.comparator?e.sort.comparator(t,l,i,n):r(t,l,i,"down"===n)}),l.updateTable(e)},resetSort:function(e){e.inner.sort.direction="",e.inner.sort.attribute="",e.dataSource.sort(function(t,n){return null!==e.sort.comparator?e.sort.comparator(t,n,e.sort.default,"down"):r(t,n,e.sort.default,!0)}),l.updateTable(e)}}},{"./dom":10}],15:[function(e,t,n){"use strict";function r(e,t,n){var r=e.inner.editedCells.find(function(e){return e.rowNumber===t&&e.columnNumber===n}),i=e.headers[e.inner.indexOfCellKeyHeader];return void 0===r&&(r=new l({key:i[n].key,value:e.dataSource[t][i[n].key]})).updateAttributes({rowNumber:t,columnNumber:n}),r}var l=e("../models/cell");t.exports={getCell:r,getFixedCell:function(e,t,n){var r=e.fixedHeaders[e.inner.indexOfCellKeyHeader];return new l({key:r[n].key,value:e.dataSource[t][r[n].key]})},setCellValue:function(e,t,n,r){var l=e.headers[e.inner.indexOfCellKeyHeader];e.dataSource[t][l[n].key]=r},isCellChanged:function(e,t){var n=r(e,t.rowNumber,t.columnNumber),l=e.inner.editedCells.find(function(e){return e.rowNumber===t.rowNumber&&e.columnNumber===t.columnNumber});return(n.value||"")!==t.value||void 0!==l},setUpdatedCellValue:function(e,t){var n=e.inner.editedCells.find(function(e){return e.rowNumber===t.rowNumber&&e.columnNumber===t.columnNumber});void 0===n?e.inner.editedCells.push(t):n.value=t.value}}},{"../models/cell":2}]},{},[1]);