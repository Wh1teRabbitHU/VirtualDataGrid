!function e(t,n,l){function r(o,s){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!s&&a)return a(o,!0);if(i)return i(o,!0);var d=new Error("Cannot find module '"+o+"'");throw d.code="MODULE_NOT_FOUND",d}var c=n[o]={exports:{}};t[o][0].call(c.exports,function(e){var n=t[o][1][e];return r(n||e)},c,c.exports,e,t,n,l)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<l.length;o++)r(l[o]);return r}({1:[function(e,t,n){"use strict";e("./pollyfills/Array.find.js"),e("./pollyfills/NodeList.forEach.js");var l=e("./models/virtual-data-grid");window.VirtualDataGrid=l},{"./models/virtual-data-grid":4,"./pollyfills/Array.find.js":7,"./pollyfills/NodeList.forEach.js":8}],2:[function(e,t,n){"use strict";t.exports=function(e){function t(t){n[t]=void 0===e||void 0===e[t]?null:e[t]}var n=this;t("key"),t("value"),t("class"),t("rowNumber"),t("columnNumber"),this.updateAttributes=function(e){Object.keys(e).forEach(function(t){void 0!==e[t]&&void 0!==n[t]&&(n[t]=e[t])})}}},{}],3:[function(e,t,n){"use strict";t.exports=function(e){function t(t){n[t]=void 0===e||void 0===e[t]?null:e[t]}var n=this;t("cell"),t("cellObject"),t("cancelEvent"),this.updateAttributes=function(e){Object.keys(e).forEach(function(t){void 0!==e[t]&&void 0!==n[t]&&(n[t]=e[t])})}}},{}],4:[function(e,t,n){"use strict";var l=e("../modules/generator"),r=1;t.exports=function(){var e=this;e.configuration={},e.uniqueId=r++,e.generateTable=function(t){l.generateTable(e.configuration,t)},e.destroyTable=function(){l.destroyTable(e.configuration)},e.getId=function(){return e.uniqueId}}},{"../modules/generator":6}],5:[function(e,t,n){"use strict";function l(e){e.selectors={},e.eventHandlers={},e.inner={},e.inner.selectors={}}function r(e){e.inner.selectors.bufferRowTop="buffer-row-top",e.inner.selectors.bufferRowBottom="buffer-row-bottom",e.inner.selectors.bufferColumnLeft="buffer-column-left",e.inner.selectors.bufferColumnRight="buffer-column-right",e.inner.selectors.headerRow="header-row",e.inner.selectors.headerCell="header-cell",e.inner.selectors.dataRow="data-row",e.inner.selectors.dataCell="data-cell",e.inner.minCellHeight=2,e.inner.tableHeightOffset=2*e.inner.minCellHeight,e.inner.editedCells=[],e.inner.leftCellOffset=0,e.inner.topCellOffset=0}function i(e,t){var n=d(t,"dimensions.containerHeight");void 0===n&&(n=c.getDefaultContainerHeight(e)),e.dimensions.containerHeight=c.calculateVirtualContainerHeight(e,n)}function o(e){e.inner.indexOfCellKeyHeader=c.getIndexOfCellKeyHeader(e),e.inner.colspanOffset=c.getMaxColspan(e),e.inner.visibleRowNumber=c.getVisibleRowNumber(e),e.inner.visibleColumnNumber=c.getVisibleColumnNumber(e),e.tableWidth=c.getTableWidth(e),e.tableHeight=c.getTableHeight(e)}function s(e,t,n){var l=a(e,n),r=d(t,n),i=n.split("."),o=i[i.length-1];l[o]=void 0===r?"function"==typeof d(f,n)?d(f,n)(e):d(f,n):r}function a(e,t){if(-1===t.indexOf("."))return e;var n=t.split(".")[0],l=e[n];return void 0===l&&(e[n]={},l=e[n]),a(l,t.substring(t.indexOf(".")+1))}function d(e,t){if(-1===t.indexOf("."))return e[t];var n=e[t.split(".")[0]];return void 0===n?n:d(n,t.substring(t.indexOf(".")+1))}var c=e("../utils/configuration"),u=e("../utils/generator"),f={selectors:{mainContainer:".data-container",fixedContainer:"fixed-container",fixedTable:"fixed-table",virtualContainer:"virtual-container",virtualTable:"virtual-table",editingCell:"editing-cell",editedCell:"edited-cell",saveButton:null},dimensions:{cellWidth:150,cellHeight:50,containerHeight:c.getDefaultContainerHeight},edit:{enabled:!1},eventHandlers:{onBeforeEdit:c.nil,onValidation:c.nil,onAfterEdit:c.nil,onBeforeSave:c.nil,onAfterSave:c.nil},dataSource:[{}],headers:[[{}]],fixedHeaders:[[{}]],inner:{}};t.exports={init:function(e,t){l(e),r(e),s(e,t,"selectors.mainContainer"),s(e,t,"selectors.fixedContainer"),s(e,t,"selectors.fixedTable"),s(e,t,"selectors.virtualContainer"),s(e,t,"selectors.virtualTable"),s(e,t,"selectors.editingCell"),s(e,t,"selectors.editedCell"),s(e,t,"selectors.saveButton"),s(e,t,"dimensions.cellWidth"),s(e,t,"dimensions.cellHeight"),i(e,t),u.initContainers(e),s(e,t,"dataSource"),s(e,t,"headers"),s(e,t,"fixedHeaders"),s(e,t,"edit.enabled"),s(e,t,"eventHandlers.onBeforeEdit"),s(e,t,"eventHandlers.onValidation"),s(e,t,"eventHandlers.onAfterEdit"),s(e,t,"eventHandlers.onBeforeSave"),s(e,t,"eventHandlers.onAfterSave"),o(e)},updateValue:s}},{"../utils/configuration":9,"../utils/generator":13}],6:[function(e,t,n){"use strict";var l=e("./configuration"),r=e("../utils/event-handler"),i=e("../utils/generator"),o=e("../utils/dom");t.exports={generateTable:function(e,t){l.init(e,t),i.initTable(e),i.initBuffers(e),o.updateTable(e),r.addEvents(e)},destroyTable:function(e){r.removeEvents(e),o.destroyTable(e)}}},{"../utils/dom":10,"../utils/event-handler":12,"../utils/generator":13,"./configuration":5}],7:[function(e,t,n){"use strict";void 0===Array.prototype.find&&(Array.prototype.find=function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,n=Object(this),l=n.length>>>0,r=arguments[1],i=0;i<l;i++)if(t=n[i],e.call(r,t,i,n))return t})},{}],8:[function(e,t,n){"use strict";NodeList.prototype.forEach||(NodeList.prototype.forEach=function(e,t){t=t||window;for(var n=0;n<this.length;n++)e.call(t,this[n],n,this)})},{}],9:[function(e,t,n){"use strict";function l(e,t){return void 0===t?t:e.inner.tableHeightOffset+Math.floor(t/e.dimensions.cellHeight)*e.dimensions.cellHeight}t.exports={calculateVirtualContainerHeight:l,getDefaultContainerHeight:function(e){return l(e,window.innerHeight-document.querySelector(e.selectors.mainContainer).getBoundingClientRect().top-64)},getIndexOfCellKeyHeader:function(e){return e.headers.length-1},getMaxColspan:function(e){var t=0;return e.headers.forEach(function(e){e.forEach(function(e){void 0!==e.colspan&&t<e.colspan&&(t=e.colspan)})}),t},getVisibleRowNumber:function(e){return Math.floor((e.dimensions.containerHeight-e.inner.tableHeightOffset)/e.dimensions.cellHeight)-e.headers.length},getVisibleColumnNumber:function(e){return Math.floor(document.querySelector("."+e.selectors.virtualContainer).offsetWidth/e.dimensions.cellWidth+(e.inner.colspanOffset>2?e.inner.colspanOffset:2)+e.inner.colspanOffset)},getTableWidth:function(e){return(e.headers[e.inner.indexOfCellKeyHeader].length-e.inner.visibleColumnNumber)*e.dimensions.cellWidth},getTableHeight:function(e){return(e.dataSource.length-e.inner.visibleRowNumber+1)*e.dimensions.cellHeight},nil:function(){return function(){}}}},{}],10:[function(e,t,n){"use strict";function l(e,t,n){t.innerHTML=n.value,t.className=e.inner.selectors.dataCell+" "+(n.class||"")}function r(e){var t=0,n=1;document.querySelectorAll("."+e.selectors.virtualTable+" tr."+e.inner.selectors.headerRow).forEach(function(l){l.querySelectorAll("td."+e.inner.selectors.headerCell).forEach(function(l,r){var i=e.headers[t][e.inner.leftCellOffset+r];if(n>1?(l.style.display="none",n--):(l.innerHTML=i.text||i.key||"",l.style.display="table-cell"),void 0===i.colspan)l.removeAttribute("colspan");else{var o=e.inner.visibleColumnNumber<=r+i.colspan?e.inner.visibleColumnNumber-r:i.colspan;l.setAttribute("colspan",o),n=o}}),t++,n=1}),document.querySelectorAll("."+e.selectors.virtualTable+" tr."+e.inner.selectors.dataRow).forEach(function(t,n){t.querySelectorAll("td."+e.inner.selectors.dataCell).forEach(function(t,r){l(e,t,i.getCell(e,e.inner.topCellOffset+n,e.inner.leftCellOffset+r))})}),document.querySelectorAll("."+e.selectors.fixedTable+" tr."+e.inner.selectors.dataRow).forEach(function(t,n){t.querySelectorAll("td."+e.inner.selectors.dataCell).forEach(function(t,r){l(e,t,i.getFixedCell(e,e.inner.topCellOffset+n,r))})})}var i=e("./table");t.exports={indexOfElement:function(e){for(var t=e.parentNode.childNodes,n=0;n<t.length;n++)if(t[n]===e)return n;return-1},updateCell:l,updateTable:r,resetEditingCell:function(e,t){document.querySelectorAll("."+e.selectors.virtualTable+" td."+e.selectors.editingCell).forEach(function(n){var l=n.querySelector("input");l.removeEventListener("blur",t),n.innerHTML=l.value,n.classList.remove(e.selectors.editingCell)})},resetEditedCell:function(e){document.querySelectorAll("."+e.selectors.virtualTable+" td."+e.selectors.editingCell).forEach(function(t){t.classList.remove(e.selectors.editedCell)}),e.inner.editedCells=[],r(e)},destroyTable:function(e){document.querySelector(e.selectors.mainContainer).innerHTML=""}}},{"./table":14}],11:[function(e,t,n){"use strict";var l=e("../models/event-arguments"),r=e("./table"),i=e("./dom");t.exports={saveCells:function(e){if(e.edit.enabled){var t=new l({cellObject:e.inner.editedCells,cancelEvent:!1});e.eventHandlers.onBeforeSave(t),t.cancelEvent||(e.inner.editedCells.forEach(function(t){r.setCellValue(e,t.rowNumber,t.columnNumber,t.value)}),i.resetEditedCell(e),e.eventHandlers.onAfterSave(t))}}}},{"../models/event-arguments":3,"./dom":10,"./table":14}],12:[function(e,t,n){"use strict";function l(e){e.preventDefault(),a.scrollTop+=e.deltaY,a.scrollLeft+=e.deltaX}function r(e,t){c.resetEditingCell(t,v.onInputBlurEventHandler),m.initBuffers(t),c.updateTable(t)}function i(e,t){var n=e.target.parentNode,l=c.indexOfElement(n.parentNode)+t.inner.topCellOffset,r=c.indexOfElement(n)-1+t.inner.leftCellOffset,i=u.getCell(t,l,r);if(i.updateAttributes({value:e.target.value,class:t.selectors.editedCell}),u.isCellChanged(t,i)){var o=new d({cell:n,cellObject:i,cancelEvent:!1});t.eventHandlers.onValidation(o),!0!==o.cancelEdit&&(u.setUpdatedCellValue(t,o.cellObject),c.updateCell(t,o.cell,o.cellObject),t.eventHandlers.onAfterEdit(o))}else c.resetEditingCell(t,v.onInputBlurEventHandler)}function o(e,t){if(t.edit.enabled){var n=c.indexOfElement(e.target.parentNode)+t.inner.topCellOffset,l=c.indexOfElement(e.target)-1+t.inner.leftCellOffset,r=u.getCell(t,n,l),o=document.createElement("input");o.setAttribute("type","text");var s=new d({cell:e.target,cellObject:r,cancelEvent:!1});t.eventHandlers.onBeforeEdit(s),s.cancelEvent||(e.target.classList.add(t.selectors.editingCell),e.target.classList.remove(t.selectors.editedCell),e.target.innerHTML="",e.target.appendChild(o),v.onInputBlurEventHandler=function(e){i(e,t)},o.focus(),o.value=r.value,o.addEventListener("blur",v.onInputBlurEventHandler))}}function s(e,t){f.saveCells(t)}var a,d=e("../models/event-arguments"),c=e("../utils/dom"),u=e("../utils/table"),f=e("../utils/edit"),m=e("../utils/generator"),v={onScrollEventHandler:function(){},onInputBlurEventHandler:function(){},onClickCellEventHandler:function(){},onClickSaveButtonEventHandler:function(){}};t.exports={addEvents:function(e){a=document.querySelector("."+e.selectors.virtualContainer),v.onScrollEventHandler=function(t){r(t,e)},v.onClickCellEventHandler=function(t){o(t,e)},v.onClickSaveButtonEventHandler=function(t){s(t,e)},null!==a&&(a.addEventListener("wheel",l,{passive:!1,capture:!0}),a.addEventListener("scroll",v.onScrollEventHandler)),e.edit.enabled&&null!==e.selectors.saveButton&&document.querySelector(e.selectors.saveButton).addEventListener("click",v.onClickSaveButtonEventHandler),e.edit.enabled&&document.querySelectorAll("."+e.selectors.virtualTable+" td."+e.inner.selectors.dataCell).forEach(function(e){e.addEventListener("click",v.onClickCellEventHandler)})},removeEvents:function(e){null!==(a=document.querySelector("."+e.selectors.virtualContainer))&&(a.removeEventListener("wheel",l),a.removeEventListener("scroll",v.onScrollEventHandler)),e.edit.enabled&&null!==e.selectors.saveButton&&document.querySelector(e.selectors.saveButton).removeEventListener("click",v.onClickSaveButtonEventHandler),e.edit.enabled&&document.querySelectorAll("."+e.selectors.virtualTable+" td."+e.inner.selectors.dataCell).forEach(function(e){e.removeEventListener("click",v.onClickCellEventHandler)})}}},{"../models/event-arguments":3,"../utils/dom":10,"../utils/edit":11,"../utils/generator":13,"../utils/table":14}],13:[function(e,t,n){"use strict";t.exports={initTable:function(e){var t=document.createElement("thead"),n=document.createElement("tbody"),l=document.createElement("tr");l.classList.add(e.inner.selectors.bufferRowTopClass);var r,i,o,s,a,d,c,u;for((a=document.createElement("td")).classList.add(e.inner.selectors.bufferColumnLeft),l.appendChild(a),r=0;r<e.inner.visibleColumnNumber;r++)(u=document.createElement("td")).style.minWidth=e.dimensions.cellWidth+"px",l.appendChild(u);for((d=document.createElement("td")).classList.add(e.inner.selectors.bufferColumnRight),l.appendChild(d),t.appendChild(l),e.headers.forEach(function(n){for((o=document.createElement("tr")).classList.add(e.inner.selectors.headerRow),o.style.height=e.dimensions.cellHeight+"px",(u=document.createElement("td")).classList.add(e.inner.selectors.bufferColumnLeft),o.appendChild(u),i=0;i<e.inner.visibleColumnNumber;i++)(u=document.createElement("td")).classList.add(e.inner.selectors.headerCell),u.style.minWidth=e.dimensions.cellWidth+"px",u.innerHTML=n[i].text||n[i].key||"",o.appendChild(u);(u=document.createElement("td")).classList.add(e.inner.selectors.bufferColumnRight),o.appendChild(u),t.appendChild(o)}),r=0;r<e.inner.visibleRowNumber;r++){for((s=document.createElement("tr")).classList.add(e.inner.selectors.dataRow),s.style.height=e.dimensions.cellHeight+"px",(u=document.createElement("td")).classList.add(e.inner.selectors.bufferColumnLeft),s.appendChild(u),i=0;i<e.inner.visibleColumnNumber;i++)(u=document.createElement("td")).classList.add(e.inner.selectors.dataCell),u.style.minWidth=e.dimensions.cellWidth+"px",s.appendChild(u);(u=document.createElement("td")).classList.add(e.inner.selectors.bufferColumnRight),s.appendChild(u),n.appendChild(s)}if((c=document.createElement("tr")).classList.add(e.inner.selectors.bufferRowBottom),n.appendChild(c),document.querySelector("."+e.selectors.virtualTable).appendChild(t),document.querySelector("."+e.selectors.virtualTable).appendChild(n),e.inner.bufferLeft=document.querySelectorAll("."+e.inner.selectors.bufferColumnLeft),e.inner.bufferRight=document.querySelectorAll("."+e.inner.selectors.bufferColumnRight),e.inner.bufferTop=document.querySelectorAll("."+e.inner.selectors.bufferRowTopClass),e.inner.bufferBottom=document.querySelectorAll("."+e.inner.selectors.bufferRowBottom),0!==e.fixedHeaders.length){var f=document.createElement("thead"),m=document.createElement("tbody");for(r=0;r<e.fixedHeaders.length;r++){for((o=document.createElement("tr")).classList.add(e.inner.selectors.headerRow),o.style.height=e.dimensions.cellHeight+"px",i=0;i<e.fixedHeaders[r].length;i++)(u=document.createElement("td")).classList.add(e.inner.selectors.headerCell),u.style.minWidth=e.dimensions.cellWidth+"px",u.innerHTML=e.fixedHeaders[r][i].text||e.fixedHeaders[r][i].key||"",o.appendChild(u);f.appendChild(o)}for(r=0;r<e.inner.visibleRowNumber;r++){for((s=document.createElement("tr")).classList.add(e.inner.selectors.dataRow),s.style.height=e.dimensions.cellHeight+"px",i=0;i<e.fixedHeaders[e.inner.indexOfCellKeyHeader].length;i++)(u=document.createElement("td")).classList.add(e.inner.selectors.dataCell),u.style.minWidth=e.dimensions.cellWidth+"px",s.appendChild(u);m.appendChild(s)}document.querySelector("."+e.selectors.fixedTable).appendChild(f),document.querySelector("."+e.selectors.fixedTable).appendChild(m)}},initContainers:function(e){var t=document.querySelector(e.selectors.mainContainer),n=document.createElement("div"),l=document.createElement("table"),r=document.createElement("div"),i=document.createElement("table");n.classList.add(e.selectors.virtualContainer),l.classList.add(e.selectors.virtualTable),r.classList.add(e.selectors.fixedContainer),i.classList.add(e.selectors.fixedTable),t.appendChild(r),r.appendChild(i),t.appendChild(n),n.appendChild(l),n.style.maxHeight=e.dimensions.containerHeight+"px",n.style.overflow="scroll",r.style.padding=e.inner.minCellHeight+"px 0",r.style.float="left"},initBuffers:function(e){var t=document.querySelector("."+e.selectors.virtualContainer).scrollLeft-document.querySelector("."+e.selectors.virtualContainer).scrollLeft%e.dimensions.cellWidth-e.inner.colspanOffset*e.dimensions.cellWidth,n=e.tableWidth-t,l=document.querySelector("."+e.selectors.virtualContainer).scrollTop,r=e.tableHeight-l;t=t>e.tableWidth?e.tableWidth:t,t=t<0?0:t,n=e.tableWidth-t,l=l+e.inner.minCellHeight>e.tableHeight?e.tableHeight+e.inner.minCellHeight:l+e.inner.minCellHeight,r=e.tableHeight-l,e.inner.leftCellOffset=Math.floor(t/e.dimensions.cellWidth),e.inner.topCellOffset=Math.floor((l-l%e.dimensions.cellHeight)/e.dimensions.cellHeight),e.inner.bufferLeft.forEach(function(e){e.style.minWidth=t+"px"}),e.inner.bufferRight.forEach(function(e){e.style.minWidth=n+"px"}),e.inner.bufferTop.forEach(function(e){e.style.height=l+"px"}),e.inner.bufferBottom.forEach(function(e){e.style.height=r+"px"})}}},{}],14:[function(e,t,n){"use strict";function l(e,t,n){var l=e.inner.editedCells.find(function(e){return e.rowNumber===t&&e.columnNumber===n}),i=e.headers[e.inner.indexOfCellKeyHeader];return void 0===l&&(l=new r({key:i[n].key,value:e.dataSource[t][i[n].key]})).updateAttributes({rowNumber:t,columnNumber:n}),l}var r=e("../models/cell");t.exports={getCell:l,getFixedCell:function(e,t,n){var l=e.fixedHeaders[e.inner.indexOfCellKeyHeader];return new r({key:l[n].key,value:e.dataSource[t][l[n].key]})},setCellValue:function(e,t,n,l){var r=e.headers[e.inner.indexOfCellKeyHeader];e.dataSource[t][r[n].key]=l},isCellChanged:function(e,t){var n=l(e,t.rowNumber,t.columnNumber),r=e.inner.editedCells.find(function(e){return e.rowNumber===t.rowNumber&&e.columnNumber===t.columnNumber});return(n.value||"")!==t.value||void 0!==r},setUpdatedCellValue:function(e,t){var n=e.inner.editedCells.find(function(e){return e.rowNumber===t.rowNumber&&e.columnNumber===t.columnNumber});void 0===n?e.inner.editedCells.push(t):n.value=t.value}}},{"../models/cell":2}]},{},[1]);